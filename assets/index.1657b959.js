var k=Object.defineProperty,B=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var F=(d,a,l)=>a in d?k(d,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[a]=l,L=(d,a)=>{for(var l in a||(a={}))R.call(a,l)&&F(d,l,a[l]);if(A)for(var l of A(a))V.call(a,l)&&F(d,l,a[l]);return d},O=(d,a)=>B(d,G(a));import{r as c,j as n,a as o,F as C,S as H,A as K,b as Z,R as q,c as z}from"./vendor.60a83461.js";const J=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))v(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&v(m)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function v(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}};J();function Q(){const[d,a]=c.exports.useState(null),[l,v]=c.exports.useState(null);c.exports.useState(0);function i(){if(s)return s.map(e=>({value:e.enr,label:e.enr+" | "+e.name}))}const[s,m]=c.exports.useState(null),[u,P]=c.exports.useState(null),[N,$]=c.exports.useState(null),[j,E]=c.exports.useState(!1),[b,D]=c.exports.useState(null);function _(e){if(s&&u){let p=e?u.filter(t=>t.type==e):u;return s.map(t=>O(L({},t),{Progs:p.filter(r=>r._cants&&r._cants.some(f=>f==t.enr)).map(r=>r.id)}))}}c.exports.useEffect(()=>{if(_("stage single")){let e=_("stage single").filter(t=>t.Progs&&t.Progs.length>2).map(t=>({_err:"more than 2 stage Progams",enr:t.enr,Progs:t.Progs})),p=_("non-stage single").filter(t=>t.Progs&&t.Progs.length>2).map(t=>({_err:"more than 2 Non stage Progams",enr:t.enr,Progs:t.Progs}));D([...e,...p])}},[u,s]);function M(){return N?u.filter(e=>e.type==N):u}const[g,x]=c.exports.useState(null);let w="https://script.google.com/macros/s/AKfycbyA288PVjiTBIOd-1EP51pD0L9eaepSAOwhEAMl3tMaww1uwZhV3tyy8ZlQc0Ma7b3vsw/exec";c.exports.useEffect(()=>{},[0]);let I=[{label:"All",id:null},{label:"Stage Single",id:"stage single"},{label:"Non-Stage Single",id:"non-stage single"},{label:"Group Stage",id:"group stage"},{label:"Group Non-Stage",id:"group non-stage"}];function U(){const[e,p]=c.exports.useState(!1);return o("div",{className:"Errors",children:[!b&&n("div",{className:"Noerr",children:"No Error Found"}),b&&n("div",{children:o("div",{children:[o("div",{className:"_Head",children:[n(Z,{})," Error Found",n("button",{onClick:()=>{p(!e)},children:e?"Hide":"Show"})]}),e&&n("div",{className:"_show",children:b.map(t=>o("div",{className:"_e",children:[o("div",{children:[t.enr," | ",s.find(r=>r.enr==t.enr).name]}),n("b",{children:t._err}),n("div",{className:"_progs",children:t.Progs.map(r=>o("div",{children:[n("b",{children:r})," ",n("span",{children:u.find(f=>f.id==r).prog})]}))})]}))})]})})]})}return n("div",{className:"_app",children:o("div",{children:[u&&o(C,{children:[n("div",{className:"header",children:o("div",{className:"_head",children:[n("div",{children:"PG"}),n("div",{children:"Art Fest"})]})}),n("div",{className:"menu",children:n("div",{className:"cont",children:I.map(e=>n("button",{className:`menu_btn ${N==e.id&&"act"}`,onClick:()=>{$(e.id)},children:e.label}))})}),o("div",{className:"prgs",children:[n("div",{children:n(C,{children:M().map((e,p)=>o("div",{className:"_each",children:[o("label",{children:[n("span",{children:e.prog}),n("span",{children:e.type})]}),n(H,{onChange:t=>{let r=[...u],f=r.findIndex(h=>h.id==e.id);r[f]._cants=t.map(h=>h.value),console.log(r,r[p],"E"),P(r);let S=g?[...g]:[],y=S.findIndex(h=>h.pgm==e.id);console.log(y),y==!1?S[y]={pgm:e.id,_cants:t.map(h=>h.value)}:S.push({pgm:e.id,_cants:t.map(h=>h.value)}),x(S)},value:e._cants?e._cants.map(t=>({value:t,label:s&&s.find(r=>r.enr==t)&&t+" | "+s.find(r=>r.enr==t).name})):[],isMulti:!0,options:i(),isDisabled:g=="loading",isOptionDisabled:t=>e._cants&&e._cants.length>=e.pt&&t})]}))})}),n(U,{})]})]}),!u&&n("div",{children:n("div",{className:"_login",children:o("div",{className:"cont",children:[o("div",{className:"input",children:[n("label",{htmlFor:"",children:"UserName"}),n("input",{value:d,onChange:({target:e})=>{a(e.value)},type:"text",name:""})]}),o("div",{className:"input",children:[n("label",{htmlFor:"",children:"Password"}),n("input",{value:l,onChange:({target:e})=>{v(e.value)},type:"password",name:"",id:""})]}),n("div",{className:"input",children:j?n("div",{class:"spinner-4"}):n("button",{onClick:()=>{d&&l&&(E(!0),fetch(`${w}?user=${d}&pass=${l}&act=_get`).then(e=>e.json()).then(e=>{P(e.prm),m(e.std)}).catch(e=>{alert("Invalid"),console.log(e),E(!1)}))},children:"Login"})})]})})}),g&&o("button",{className:"save_btn",onClick:()=>{if(g!=="loading"){let e=[...g];x("loading"),fetch(`${w}?user=${d}&pass=${l}&act=update&data=${JSON.stringify(e)}`).then(p=>p.json()).then(p=>{x(null)})}},children:[g!=="loading"&&n(K,{size:"30"}),g=="loading"&&n("div",{class:"spinner-4"})]})]})})}q.render(n(z.StrictMode,{children:n(Q,{})}),document.getElementById("root"));
