var B=Object.defineProperty,G=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var L=(o,l,a)=>l in o?B(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a,M=(o,l)=>{for(var a in l||(l={}))V.call(l,a)&&L(o,a,l[a]);if(A)for(var a of A(l))H.call(l,a)&&L(o,a,l[a]);return o},O=(o,l)=>G(o,R(l));import{r as p,j as n,a as d,F as C,S as K,A as Z,b as q,R as z,c as J}from"./vendor.60a83461.js";const Q=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))f(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&f(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}};Q();function T(){const[o,l]=p.exports.useState(null),[a,f]=p.exports.useState(null);p.exports.useState(0);function i(){if(s)return s.map(e=>({value:e.enr,label:e.enr+" | "+e.name}))}const[s,m]=p.exports.useState(null),[u,E]=p.exports.useState(null),[N,$]=p.exports.useState(null),[j,w]=p.exports.useState(!1),[b,D]=p.exports.useState(null);function _(e){if(s&&u)return s.map(c=>O(M({},c),{Progs:e.filter(r=>r._cants&&r._cants.some(t=>t==c.enr)).map(r=>r.id)}))}let v=e=>{if(u)return e?u.filter(c=>c.type==e):u};p.exports.useEffect(()=>{if(u){let e=_(v("stage single")).filter(t=>t.Progs&&t.Progs.length>3).map(t=>({_err:"More than 3 stage Progams",enr:t.enr,Progs:t.Progs})),c=_(v("non-stage single")).filter(t=>t.Progs&&t.Progs.length>4).map(t=>({_err:"More than 4 Non stage Progams",enr:t.enr,Progs:t.Progs})),r=_([...v("non-stage single"),...v("stage single")]).filter(t=>t.Progs&&t.Progs.length>4).map(t=>({_err:"More than 4  Progams",enr:t.enr,Progs:t.Progs}));D([...e,...c,...r])}},[u,s]);function I(){return N?u.filter(e=>e.type==N):u}const[h,P]=p.exports.useState(null);let F="https://script.google.com/macros/s/AKfycbyA288PVjiTBIOd-1EP51pD0L9eaepSAOwhEAMl3tMaww1uwZhV3tyy8ZlQc0Ma7b3vsw/exec";p.exports.useEffect(()=>{},[0]);let U=[{label:"All",id:null},{label:"Stage Single",id:"stage single"},{label:"Non-Stage Single",id:"non-stage single"},{label:"Group Stage",id:"group stage"},{label:"Group Non-Stage",id:"group non-stage"}];function k(){const[e,c]=p.exports.useState(!1);return n("div",{className:"Errors",children:!b||b.length==0?n("div",{className:"Noerr",children:"No Error Found"}):n("div",{children:d("div",{children:[d("div",{className:"_Head",children:[n(q,{})," Error Found",n("button",{onClick:()=>{c(!e)},children:e?"Hide":"Show"})]}),e&&n("div",{className:"_show",children:b.map(r=>d("div",{className:"_e",children:[d("div",{children:[r.enr," | ",s.find(t=>t.enr==r.enr).name]}),n("b",{children:r._err}),n("div",{className:"_progs",children:r.Progs.map(t=>d("div",{children:[n("b",{children:t})," ",n("span",{children:u.find(x=>x.id==t).prog})]}))})]}))})]})})})}return n("div",{className:"_app",children:d("div",{children:[u&&d(C,{children:[n("div",{className:"header",children:d("div",{className:"_head",children:[n("div",{children:"PG"}),n("div",{children:"Art Fest"})]})}),n("div",{className:"menu",children:n("div",{className:"cont",children:U.map(e=>n("button",{className:`menu_btn ${N==e.id&&"act"}`,onClick:()=>{$(e.id)},children:e.label}))})}),d("div",{className:"prgs",children:[n("div",{children:n(C,{children:I().map((e,c)=>d("div",{className:"_each",children:[d("label",{children:[n("span",{children:e.prog}),n("span",{children:e.type})]}),n(K,{onChange:r=>{let t=[...u],x=t.findIndex(g=>g.id==e.id);t[x]._cants=r.map(g=>g.value),console.log(t,t[c],"E"),E(t);let S=h?[...h]:[],y=S.findIndex(g=>g.pgm==e.id);console.log(y),y==!1?S[y]={pgm:e.id,_cants:r.map(g=>g.value)}:S.push({pgm:e.id,_cants:r.map(g=>g.value)}),P(S)},value:e._cants?e._cants.map(r=>({value:r,label:s&&s.find(t=>t.enr==r)&&r+" | "+s.find(t=>t.enr==r).name})):[],isMulti:!0,options:i(),isDisabled:h=="loading",isOptionDisabled:r=>e._cants&&e._cants.length>=e.pt&&r})]}))})}),n(k,{})]})]}),!u&&n("div",{children:n("div",{className:"_login",children:d("div",{className:"cont",children:[d("div",{className:"input",children:[n("label",{htmlFor:"",children:"UserName"}),n("input",{value:o,onChange:({target:e})=>{l(e.value)},type:"text",name:""})]}),d("div",{className:"input",children:[n("label",{htmlFor:"",children:"Password"}),n("input",{value:a,onChange:({target:e})=>{f(e.value)},type:"password",name:"",id:""})]}),n("div",{className:"input",children:j?n("div",{class:"spinner-4"}):n("button",{onClick:()=>{o&&a&&(w(!0),fetch(`${F}?user=${o}&pass=${a}&act=_get`).then(e=>e.json()).then(e=>{E(e.prm),m(e.std)}).catch(e=>{alert("Invalid"),console.log(e),w(!1)}))},children:"Login"})})]})})}),h&&d("button",{className:"save_btn",onClick:()=>{if(h!=="loading"){let e=[...h];P("loading"),fetch(`${F}?user=${o}&pass=${a}&act=update&data=${JSON.stringify(e)}`).then(c=>c.json()).then(c=>{P(null)})}},children:[h!=="loading"&&n(Z,{size:"30"}),h=="loading"&&n("div",{class:"spinner-4"})]})]})})}z.render(n(J.StrictMode,{children:n(T,{})}),document.getElementById("root"));
