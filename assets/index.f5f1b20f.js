import{r,j as t,a as o,F as L,S as $,A as j,R as M,b as P}from"./vendor.e89fb21d.js";const C=function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&f(m)}).observe(document,{childList:!0,subtree:!0});function c(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(n){if(n.ep)return;n.ep=!0;const s=c(n);fetch(n.href,s)}};C();function D(){const[u,p]=r.exports.useState(null),[c,f]=r.exports.useState(null);r.exports.useState(0);function n(){if(s)return s.map(e=>({value:e.enr,label:e.enr+" | "+e.name}))}const[s,m]=r.exports.useState(null),[h,N]=r.exports.useState(null),[b,A]=r.exports.useState(null),[O,x]=r.exports.useState(!1);function w(){return b?h.filter(e=>e.type==b):h}const[d,S]=r.exports.useState(null);let _="https://script.google.com/macros/s/AKfycbyA288PVjiTBIOd-1EP51pD0L9eaepSAOwhEAMl3tMaww1uwZhV3tyy8ZlQc0Ma7b3vsw/exec";return r.exports.useEffect(()=>{},[0]),t("div",{className:"_app",children:o("div",{children:[h&&o(L,{children:[t("div",{className:"header",children:o("div",{className:"_head",children:[t("div",{children:"PG"}),t("div",{children:"Art Fest"})]})}),t("div",{className:"menu",children:t("div",{className:"cont",children:[{label:"All",id:null},{label:"Stage Single",id:"stage single"},{label:"Non Single",id:"non-stage single"},{label:"Group Single",id:"group stage"},{label:"Group non",id:"group non-stage"}].map(e=>t("button",{className:`menu_btn ${b==e.id&&"act"}`,onClick:()=>{A(e.id)},children:e.label}))})}),t("div",{className:"prgs",children:t("div",{children:t(L,{children:w().map((e,g)=>o("div",{className:"_each",children:[o("label",{children:[t("span",{children:e.prog}),t("span",{children:e.type})]}),t($,{onChange:l=>{let a=[...h],F=a.findIndex(i=>i.id==e.id);a[F]._cants=l.map(i=>i.value),console.log(a,a[g],"E"),N(a);let v=d?[...d]:[],y=v.findIndex(i=>i.pgm==e.id);console.log(y),y==!1?v[y]={pgm:e.id,_cants:l.map(i=>i.value)}:v.push({pgm:e.id,_cants:l.map(i=>i.value)}),S(v)},value:e._cants?e._cants.map(l=>({value:l,label:s&&s.find(a=>a.enr==l)&&l+" | "+s.find(a=>a.enr==l).name})):[],isMulti:!0,options:n(),isDisabled:d=="loading",isOptionDisabled:l=>e._cants&&e._cants.length>=e.pt&&l})]}))})})})]}),!h&&t("div",{children:t("div",{className:"_login",children:o("div",{className:"cont",children:[o("div",{className:"input",children:[t("label",{htmlFor:"",children:"UserName"}),t("input",{value:u,onChange:({target:e})=>{p(e.value)},type:"text",name:""})]}),o("div",{className:"input",children:[t("label",{htmlFor:"",children:"Password"}),t("input",{value:c,onChange:({target:e})=>{f(e.value)},type:"password",name:"",id:""})]}),t("div",{className:"input",children:O?t("div",{class:"spinner-4"}):t("button",{onClick:()=>{u&&c&&(x(!0),fetch(`${_}?user=${u}&pass=${c}&act=_get`).then(e=>e.json()).then(e=>{N(e.prm),m(e.std)}).catch(e=>{alert("Invalid"),x(!1)}))},children:"Login"})})]})})}),d&&o("button",{className:"save_btn",onClick:()=>{if(d!=="loading"){let e=[...d];S("loading"),fetch(`${_}?user=${u}&pass=${c}&act=update&data=${JSON.stringify(e)}`).then(g=>g.json()).then(g=>{S(null)})}},children:[d!=="loading"&&t(j,{size:"30"}),d=="loading"&&t("div",{class:"spinner-4"})]})]})})}M.render(t(P.StrictMode,{children:t(D,{})}),document.getElementById("root"));
